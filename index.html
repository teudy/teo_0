<!DOCTYPE html>
<html>
<head>
  <title>Retiro BTC</title>
</head>
<body>
  <h2>Solicitar retiro</h2>
  <form id="retiroForm">
    <label for="wallet">Wallet BTC:</label>
    <input type="text" id="wallet" name="wallet" required><br><br>
    
    <label for="amount">Monto (BTC):</label>
    <input type="number" id="amount" name="amount" step="0.000001" required><br><br>
    
    <button type="submit">Retirar</button>
  </form>

  <div id="resultado" style="margin-top: 20px;"></div>

  <script>
    document.getElementById("retiroForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      
      const formData = new FormData();
      formData.append("wallet", document.getElementById("wallet").value);
      formData.append("amount", document.getElementById("amount").value);

      const respuesta = await fetch("https://teo-0.onrender.com/retirar", {
        method: "POST",
        body: formData
      });

      const resultado = document.getElementById("resultado");
      const datos = await respuesta.json();

      if (respuesta.ok) {
        resultado.innerHTML = `<pre>✅ Retiro enviado:\n${JSON.stringify(datos, null, 2)}</pre>`;
      } else {
        resultado.innerHTML = `<pre>❌ Error:\n${JSON.stringify(datos, null, 2)}</pre>`;
      }
    });
  </script>
</body>
</html>
